# Polymarket & Opinion.trade å¥—åˆ©æœºå™¨äºº

å®æ—¶æ£€æµ‹ Polymarket å’Œ Opinion.trade ä¸¤ä¸ªå¹³å°ä¹‹é—´çš„å¥—åˆ©æœºä¼šï¼Œå½“èµ”ç‡ç›¸åŠ å°äº1æ—¶è‡ªåŠ¨æ‰§è¡Œä¹°å…¥æ“ä½œã€‚

## ğŸ“Œ ç›®æ ‡äº‹ä»¶

- **Polymarket**: [Bitcoin Up or Down - January 28 10am ET](https://polymarket.com/event/bitcoin-up-or-down-january-28-10am-et)
- **Opinion.trade**: [Topic #4866](https://app.opinion.trade/detail?topicId=4866)

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- **å®æ—¶ç›‘æ§**: æŒç»­ç›‘æ§ä¸¤ä¸ªå¹³å°çš„ä»·æ ¼å˜åŒ–
- **å¥—åˆ©æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹èµ”ç‡ç›¸åŠ å°äº1çš„å¥—åˆ©æœºä¼š
- **è‡ªåŠ¨æ‰§è¡Œ**: å‘ç°æœºä¼šåè‡ªåŠ¨åœ¨ä¸¤ä¸ªå¹³å°åŒæ—¶ä¸‹å•
- **é£é™©æ§åˆ¶**: å†…ç½®æœ€å°åˆ©æ¶¦è¾¹é™…å’Œæœ€å¤§æŒä»“é™åˆ¶
- **æ—¥å¿—è®°å½•**: å®Œæ•´çš„äº¤æ˜“æ—¥å¿—å’Œç»Ÿè®¡ä¿¡æ¯

## ğŸ“‹ å¥—åˆ©åŸç†

å½“ä¸¤ä¸ªå¹³å°çš„èµ”ç‡ç›¸åŠ å°äº1æ—¶ï¼Œå­˜åœ¨æ— é£é™©å¥—åˆ©æœºä¼šï¼š

- **ç­–ç•¥1**: Polymarket YES + Opinion.trade NO
- **ç­–ç•¥2**: Polymarket NO + Opinion.trade YES

ä¾‹å¦‚ï¼š
- Polymarket YES ä»·æ ¼: $0.48
- Opinion.trade YES ä»·æ ¼: $0.50
- ç­–ç•¥1æˆæœ¬: $0.48 + $0.50 = $0.98
- åˆ©æ¶¦: $1.00 - $0.98 = $0.02 (2%)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥ä½ çš„é…ç½®ï¼š

```bash
# Windows
copy .env.example .env

# Linux/Mac
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œ**å¿…é¡»é…ç½®**ï¼š
- `OPINION_API_KEY`: ä½ çš„ Opinion.trade API Key
- å…¶ä»–é…ç½®é¡¹å·²åŒ…å« BTC Jan 30 7AM çš„é»˜è®¤å€¼

### 3. éªŒè¯é…ç½®ï¼ˆæ¨èï¼‰

åœ¨è¿è¡Œä¸»ç¨‹åºå‰ï¼Œå…ˆéªŒè¯é…ç½®å’Œ API è¿æ¥ï¼š

```bash
python verify_setup.py
```

è¿™å°†éªŒè¯ï¼š
- âœ… é…ç½®æ˜¯å¦å®Œæ•´
- âœ… Polymarket API æ˜¯å¦å¯è®¿é—®
- âœ… Opinion.trade API Key æ˜¯å¦æœ‰æ•ˆ

### 4. è¿è¡Œç¨‹åº

```bash
python main.py
```

ç¨‹åºå°†ï¼š
- æ¯ç§’æ£€æŸ¥ä¸€æ¬¡ä»·æ ¼
- æ£€æµ‹å¥—åˆ©æœºä¼šï¼ˆå½“ä¸¤è¾¹ä»·æ ¼ç›¸åŠ  < 1.0 æ—¶ï¼‰
- è‡ªåŠ¨æ‰§è¡Œä¹°å…¥æ“ä½œ
- è®°å½•æ‰€æœ‰äº¤æ˜“åˆ°æ—¥å¿—æ–‡ä»¶

### 5. éªŒè¯ APIï¼ˆæ‰‹åŠ¨æµ‹è¯•ï¼‰

**éªŒè¯ Polymarket è®¢å•ç°¿**:
```bash
curl -s 'https://clob.polymarket.com/book?token_id=38628387299211582034336321279819512498682584959013498891074082886323537791474' | head
```

**éªŒè¯ Opinion.trade API Key**:
```bash
curl -s 'https://proxy.opinion.trade:8443/openapi/market?limit=1' \
  -H 'apikey: ä½ çš„çœŸå®apikey'
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ polymarket_client.py   # Polymarket API å®¢æˆ·ç«¯
â”œâ”€â”€ opinion_trade_client.py # Opinion.trade API å®¢æˆ·ç«¯
â”œâ”€â”€ arbitrage_detector.py  # å¥—åˆ©æ£€æµ‹é€»è¾‘
â”œâ”€â”€ arbitrage_executor.py  # å¥—åˆ©æ‰§è¡Œå™¨
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ .env.example          # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## âš™ï¸ é…ç½®è¯´æ˜

### å¥—åˆ©å‚æ•°

- `ARBITRAGE_THRESHOLD`: å¥—åˆ©è§¦å‘é˜ˆå€¼ï¼ˆé»˜è®¤1.0ï¼‰
- `MIN_PROFIT_MARGIN`: æœ€å°åˆ©æ¶¦è¾¹é™…ï¼ˆé»˜è®¤0.01ï¼Œå³1%ï¼‰
- `MAX_POSITION_SIZE`: æœ€å¤§å•æ¬¡äº¤æ˜“é‡‘é¢ï¼ˆé»˜è®¤$100ï¼‰

### ç›‘æ§å‚æ•°

- `POLL_INTERVAL`: ä»·æ ¼è½®è¯¢é—´éš”ï¼ˆç§’ï¼Œé»˜è®¤1.0ï¼‰
- `LOG_LEVEL`: æ—¥å¿—çº§åˆ«ï¼ˆDEBUG/INFO/WARNING/ERRORï¼‰

## ğŸ”§ API é›†æˆè¯´æ˜

### Polymarket API

éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š
1. è·å–å¸‚åœºä¿¡æ¯å’Œè®¢å•ç°¿
2. è·å–æœ€ä½³ä¹°å…¥ä»·æ ¼
3. æ‰§è¡Œä¹°å…¥è®¢å•

**æ³¨æ„**: å½“å‰ä»£ç ä¸­çš„ `condition_id` éœ€è¦æ ¹æ®å®é™…çš„äº‹ä»¶IDæ›¿æ¢ã€‚

### Opinion.trade API

éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š
1. è·å–è¯é¢˜ä¿¡æ¯å’Œä»·æ ¼
2. æ‰§è¡Œä¹°å…¥è®¢å•

**æ³¨æ„**: éœ€è¦æ ¹æ® Opinion.trade çš„å®é™…APIæ–‡æ¡£è°ƒæ•´æ¥å£è°ƒç”¨ã€‚

## âš ï¸ é‡è¦æç¤º

1. **APIå¯†é’¥å®‰å…¨**: ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
2. **APIé›†æˆ**: å½“å‰ä»£ç æä¾›äº†æ¡†æ¶ï¼Œä½†éœ€è¦æ ¹æ®å®é™…çš„ Polymarket å’Œ Opinion.trade API æ–‡æ¡£å®Œå–„å®ç°
3. **æµ‹è¯•ç¯å¢ƒ**: å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒæˆ–å°é¢èµ„é‡‘ä¸Šæµ‹è¯•
4. **APIé™åˆ¶**: æ³¨æ„ä¸¤ä¸ªå¹³å°çš„APIè°ƒç”¨é¢‘ç‡é™åˆ¶
5. **ç½‘ç»œå»¶è¿Ÿ**: å¥—åˆ©æœºä¼šå¯èƒ½è½¬ç¬å³é€ï¼Œéœ€è¦è€ƒè™‘ç½‘ç»œå»¶è¿Ÿ
6. **æ»‘ç‚¹é£é™©**: å®é™…æ‰§è¡Œä»·æ ¼å¯èƒ½ä¸æ£€æµ‹æ—¶çš„ä»·æ ¼ä¸åŒ
7. **èµ„é‡‘ç®¡ç†**: ç¡®ä¿ä¸¤ä¸ªå¹³å°éƒ½æœ‰è¶³å¤Ÿçš„èµ„é‡‘ä½™é¢
8. **Condition ID**: Polymarket éœ€è¦ `condition_id` æ‰èƒ½è·å–ä»·æ ¼å’Œä¸‹å•ï¼Œéœ€è¦ä»å¸‚åœºä¿¡æ¯ä¸­æå–æˆ–æ‰‹åŠ¨é…ç½®

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](QUICK_START.md) - å¿«é€Ÿå®‰è£…å’Œè¿è¡ŒæŒ‡å—
- [æœåŠ¡å™¨å®‰è£…æ•™ç¨‹](INSTALL_SERVER.md) - åœ¨ Linux æœåŠ¡å™¨ä¸Šå®‰è£…å’Œéƒ¨ç½²çš„å®Œæ•´æŒ‡å—
- [ä½¿ç”¨è¯´æ˜](USAGE.md) - è¯¦ç»†çš„é…ç½®å’Œä½¿ç”¨æŒ‡å—
- [è·å– Condition ID](get_condition_id.md) - å¦‚ä½•è·å– Polymarket condition_id çš„è¯¦ç»†æŒ‡å—
- [æµ‹è¯•è„šæœ¬](test_connection.py) - API è¿æ¥æµ‹è¯•å·¥å…·

## ğŸ”§ é…ç½® Condition ID

å¦‚æœç¨‹åºæç¤º"æ— æ³•ä»å¸‚åœºä¿¡æ¯è·å–ä»·æ ¼"ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½® `condition_id`ï¼š

### å¿«é€Ÿè·å–æ–¹æ³•

è¿è¡Œè¾…åŠ©è„šæœ¬ï¼š
```bash
python get_condition_id.py
```

è„šæœ¬ä¼šè‡ªåŠ¨å°è¯•ä» API è·å–å¹¶æ˜¾ç¤º `condition_id`ã€‚

### æ‰‹åŠ¨é…ç½®

1. è·å– `condition_id`ï¼ˆå‚è€ƒ [get_condition_id.md](get_condition_id.md)ï¼‰
2. åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ ï¼š
   ```env
   POLYMARKET_CONDITION_ID=0x1234567890abcdef...
   ```

### å¯ç”¨è°ƒè¯•æ¨¡å¼

å¦‚æœä»ç„¶æ— æ³•è·å–ï¼Œå¯ç”¨è°ƒè¯•æ—¥å¿—æŸ¥çœ‹è¯¦ç»† API å“åº”ï¼š
```python
# åœ¨ config.py ä¸­
LOG_LEVEL = "DEBUG"
```

## ğŸš€ æœåŠ¡å™¨å¿«é€Ÿå®‰è£…

å¦‚æœä½ åœ¨ Linux æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥ä½¿ç”¨è‡ªåŠ¨å®‰è£…è„šæœ¬ï¼š

```bash
# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬
wget https://raw.githubusercontent.com/119969788/op-pol/main/setup.sh
chmod +x setup.sh
./setup.sh
```

æˆ–è€…æŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md) æˆ– [å®Œæ•´å®‰è£…æ•™ç¨‹](INSTALL_SERVER.md)

## ğŸ“Š æ—¥å¿—å’Œç›‘æ§

ç¨‹åºä¼šç”Ÿæˆ `arbitrage_bot.log` æ—¥å¿—æ–‡ä»¶ï¼Œè®°å½•ï¼š
- ä»·æ ¼æ£€æŸ¥è®°å½•
- å¥—åˆ©æœºä¼šå‘ç°
- äº¤æ˜“æ‰§è¡Œç»“æœ
- é”™è¯¯å’Œå¼‚å¸¸ä¿¡æ¯

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ è®¸å¯è¯

MIT License

## âš ï¸ å…è´£å£°æ˜

æœ¬ç¨‹åºä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬ç¨‹åºè¿›è¡Œå®é™…äº¤æ˜“å­˜åœ¨é£é™©ï¼Œè¯·è‡ªè¡Œæ‰¿æ‹…æ‰€æœ‰è´£ä»»ã€‚ä½œè€…ä¸å¯¹ä»»ä½•æŸå¤±è´Ÿè´£ã€‚
